(this["webpackJsonpreact-router"]=this["webpackJsonpreact-router"]||[]).push([[0],{1222:function(e,t,n){},1223:function(e,t,n){},1224:function(e,t,n){"use strict";n.r(t);var r=n(4),a=n(0),c=n.n(a),s=n(89),i=n(51),o=n.n(i),u=n(18),l=n(19),d=n(22),h=n(21),j=n(116),p=n(70),b=(n(579),n(209)),m=(n(581),n(111)),f=n(1229),O=(n(584),n.p+"static/media/logo.f6487143.png"),x=[{title:"\u9996\u9875",key:"/home",icon:"icon-index-0-copy",isPublic:!0},{title:"\u5546\u54c1",key:"/products",icon:"icon-shangpin",children:[{title:"\u54c1\u7c7b\u7ba1\u7406",key:"/category",icon:"icon-leimupinleifenleileibie"},{title:"\u5546\u54c1\u7ba1\u7406",key:"/product",icon:"icon-guanli"}]},{title:"\u7528\u6237\u7ba1\u7406",key:"/user",icon:"icon-yonghu"},{title:"\u89d2\u8272\u7ba1\u7406",key:"/role",icon:"icon-jiaose"},{title:"\u56fe\u5f62\u56fe\u8868",key:"/charts",icon:"icon-biaoge",children:[{title:"\u67f1\u5f62\u56fe",key:"/charts/bar",icon:"icon-tubiaozhuxingtu"},{title:"\u6298\u7ebf\u56fe",key:"/charts/line",icon:"icon-tubiaoxian_tongyong_tongji"},{title:"\u997c\u56fe",key:"/charts/pie",icon:"icon-tubiao08"}]},{title:"\u8ba2\u5355\u7ba1\u7406",key:"/order",icon:"icon-jiaose"}],g=n(17),y=n.n(g),v=n(49),w="set_head_title",k="receive_user",C="show_error_msg",S="reset_user",N=(n(131),n(38)),I=n(282),R=n(366),T=n.n(R);function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";return new Promise((function(r,a){("GET"===n?T.a.get(e,{params:t}):T.a.post(e,t)).then((function(e){r(e.data)})).catch((function(e){console.log(e.message),N.b.error("\u8bf7\u6c42\u51fa\u9519\u4e86\uff1a"+e.message)}))}))}var P=n(533),A=n.n(P),F=function(e,t){return _("/login",{username:e,password:t},"POST")},D=function(e){return _("/manage/category/list",{parentId:e})},U=function(e,t){return _("/manage/category/add",{categoryName:e,parentId:t},"POST")},M=function(e){return _("/manage/category/info",{categoryId:e})},V=function(e,t){return _("/manage/product/list",{pageNum:e,pageSize:t})},L=function(e,t){return _("/manage/product/updateStatus",{productId:e,status:t},"POST")},z=function(e){var t=e.pageNum,n=e.pageSize,r=e.searchName,a=e.searchType;return _("/manage/product/search",Object(I.a)({pageNum:t,pageSize:n},a,r))},E=function(e){return _("/manage/img/delete",{name:e},"POST")},q=function(e){return _("/manage/product/"+(e._id?"update":"add"),e,"POST")},K=function(e){return _("/manage/role/update",e,"POST")},H=function(){return _("/manage/user/list")},B=function(e){return _("/manage/user/delete",{userId:e},"POST")},W=function(e){return _("/manage/user/"+(e._id?"update":"add"),e,"POST")},J=function(e){return new Promise((function(t,n){var r="http://api.map.baidu.com/telematics/v3/weather?location=".concat(e,"&output=json&ak=3p49MVra6urFRGOT9s8UBWr2");A()(r,{},(function(e,n){if(console.log("jsonp()",e,n),e||"success"!==n.status)N.b.error("\u83b7\u53d6\u5929\u6c14\u4fe1\u606f\u5931\u8d25!");else{var r=n.results[0].weather_data[0],a=r.dayPictureUrl,c=r.weather;t({dayPictureUrl:a,weather:c})}}))}))},G=n(311),Y=n.n(G),Q="user_key",X=function(e){Y.a.set(Q,e)},Z=function(){return Y.a.get(Q)||{}},$=function(){Y.a.remove(Q)},ee=function(e){return{type:w,data:e}},te=function(e){return{type:k,user:e}},ne=function(){return $(),{type:S}},re=m.a.SubMenu,ae=Object(f.a)({scriptUrl:"//at.alicdn.com/t/font_2208178_anairh40jgh.js"}),ce=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).hasAuth=function(e){var t=e.key,n=e.isPublic,r=a.props.user.role.menus;return!("admin"!==a.props.user.username&&!n&&-1===r.indexOf(t))||!!e.children&&!!e.children.find((function(e){return-1!==r.indexOf(e.key)}))},a.getMenuNodes_map=function(e){return e.map((function(e){return e.children?Object(r.jsx)(re,{title:e.title,icon:Object(r.jsx)(ae,{type:e.icon}),children:a.getMenuNodes(e.children)},e.key):Object(r.jsxs)(m.a.Item,{children:[Object(r.jsx)(ae,{type:e.icon}),Object(r.jsx)(j.b,{to:e.key,children:e.title})]},e.key)}))},a.getMenuNodes=function(e){var t=a.props.location.pathname;return e.reduce((function(e,n){a.hasAuth(n)&&(n.children?(n.children.find((function(e){return 0===t.indexOf(e.key)}))&&(a.openKey=n.key),e.push(Object(r.jsx)(re,{title:n.title,icon:Object(r.jsx)(ae,{type:n.icon}),children:a.getMenuNodes(n.children)},n.key))):(n.key!==t&&0!==t.indexOf(n.key)||a.props.setHeadTitle(n.title),e.push(Object(r.jsxs)(m.a.Item,{children:[Object(r.jsx)(ae,{type:n.icon}),Object(r.jsx)(j.b,{to:n.key,onClick:function(){return a.props.setHeadTitle(n.title)},children:n.title})]},n.key))));return e}),[])},a.menuNodes=a.getMenuNodes(x),a}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.location.pathname,t=this.openKey;return 0===e.indexOf("/product")&&(e="/product"),Object(r.jsxs)("div",{className:"left-nav",children:[Object(r.jsxs)(j.b,{className:"left-nav-header",to:"/home",children:[Object(r.jsx)("img",{src:O,alt:"logo"}),Object(r.jsx)("h1",{children:"\u8c37\u7c92\u540e\u53f0"})]}),Object(r.jsx)(m.a,{selectedKeys:[e],defaultOpenKeys:[t],mode:"inline",theme:"dark",children:this.menuNodes})]})}}]),n}(a.Component),se=Object(s.b)((function(e){return{user:e.user}}),{setHeadTitle:ee})(Object(p.g)(ce)),ie=(n(212),n(99)),oe=n(63);n(644);function ue(e){return Object(r.jsx)("button",Object(oe.a)(Object(oe.a)({},e),{},{className:"link-button"}))}function le(e){if(!e)return"";var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}n(645);var de=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={currentTime:le(Date.now()),dayPictureUrl:"",weather:""},e.getTime=function(){e.interValID=setInterval((function(){var t=le(Date.now());e.setState({currentTime:t})}),1e3)},e.getWeather=Object(v.a)(y.a.mark((function t(){var n,r,a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J("\u4fdd\u5b9a");case 2:n=t.sent,r=n.dayPictureUrl,a=n.weather,e.setState({dayPictureUrl:r,weather:a});case 6:case"end":return t.stop()}}),t)}))),e.getTitle=function(){var t,n=e.props.location.pathname;return x.forEach((function(e){if(e.key===n)t=e.title;else if(e.children){var r=e.children.find((function(e){return 0===n.indexOf(e.key)}));r&&(t=r.title)}})),t},e.logout=function(){ie.a.confirm({title:"Confirm",content:"Bla bla ...",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){e.props.logout()},onCancel:function(){N.b.info("\u6ca1\u6709\u9000\u51fa\uff01")}})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getTime(),this.getWeather()}},{key:"componentWillUnmount",value:function(){clearInterval(this.interValID)}},{key:"render",value:function(){var e=this.state,t=e.currentTime,n=e.dayPictureUrl,a=e.weather,c=this.props.user.username,s=this.props.headTitle;return Object(r.jsxs)("div",{className:"header",children:[Object(r.jsxs)("div",{className:"header-top",children:[Object(r.jsxs)("span",{children:["\u6b22\u8fce, ",c]}),Object(r.jsx)(ue,{onClick:this.logout,children:"\u9000\u51fa"})]}),Object(r.jsxs)("div",{className:"header-bottom",children:[Object(r.jsx)("div",{className:"header-bottom-left",children:s}),Object(r.jsxs)("div",{className:"header-bottom-right",children:[Object(r.jsx)("span",{children:t}),Object(r.jsx)("img",{src:n,alt:"weather"}),Object(r.jsx)("span",{children:a})]})]})]})}}]),n}(a.Component),he=Object(s.b)((function(e){return{headTitle:e.headTitle,user:e.user}}),{logout:ne})(Object(p.g)(de)),je=(n(657),n(210)),pe=(n(129),n(61)),be=(n(1225),n(312)),me=(n(664),n(208)),fe=(n(1226),n(566)),Oe=n(130),xe=n.n(Oe),ge=n(92),ye=n(536),ve=n.n(ye),we=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=(new ve.a).createView().source([{month:"Jan",a:7,b:3.9,c:5.9},{month:"Feb",a:6.9,b:4.2,c:1.9},{month:"Mar",a:9.5,b:5.7,c:3.9},{month:"Apr",a:14.5,b:8.5,c:5.5},{month:"May",a:18.4,b:11.9,c:8.9},{month:"Jun",a:21.5,b:15.2,c:10},{month:"Jul",a:25.2,b:17,c:12.9},{month:"Aug",a:26.5,b:16.6,c:15.9},{month:"Sep",a:23.3,b:14.2,c:20.7},{month:"Oct",a:18.3,b:10.3,c:25.9},{month:"Nov",a:13.9,b:6.6,c:30.9},{month:"Dec",a:9.6,b:4.8,c:35.9}]);e.transform({type:"fold",fields:["a","b","c"],key:"city",value:"temperature"});return Object(r.jsx)("div",{style:{float:"right",width:750,height:300},children:Object(r.jsxs)(ge.Chart,{height:250,data:e,scale:{month:{range:[0,1]}},forceFit:!0,children:[Object(r.jsx)(ge.Legend,{}),Object(r.jsx)(ge.Axis,{name:"month"}),Object(r.jsx)(ge.Axis,{name:"temperature",label:{formatter:function(e){return"".concat(e,"\u4e07\u4e2a")}}}),Object(r.jsx)(ge.Tooltip,{crosshairs:{type:"y"}}),Object(r.jsx)(ge.Geom,{type:"line",position:"month*temperature",size:2,color:"city",shape:"smooth"}),Object(r.jsx)(ge.Geom,{type:"point",position:"month*temperature",size:4,shape:"circle",color:"city",style:{stroke:"#fff",lineWidth:1}})]})})}}]),n}(c.a.Component),ke=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsx)("div",{style:{width:"100%",marginLeft:-30},children:Object(r.jsxs)(ge.Chart,{height:338,data:[{year:"1\u6708",sales:38},{year:"2\u6708",sales:52},{year:"3\u6708",sales:61},{year:"4\u6708",sales:145},{year:"5\u6708",sales:48},{year:"6\u6708",sales:38},{year:"7\u6708",sales:28},{year:"8\u6708",sales:38},{year:"59\u6708",sales:68},{year:"10\u6708",sales:38},{year:"11\u6708",sales:58},{year:"12\u6708",sales:38}],scale:{sales:{tickInterval:20}},forceFit:!0,children:[Object(r.jsx)(ge.Axis,{name:"year"}),Object(r.jsx)(ge.Axis,{name:"sales"}),Object(r.jsx)(ge.Tooltip,{crosshairs:{type:"y"}}),Object(r.jsx)(ge.Geom,{type:"interval",position:"year*sales"})]})})}}]),n}(c.a.Component),Ce=(n(668),"YYYY/MM/DD"),Se=fe.a.RangePicker,Ne=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={isVisited:!0},e.handleChange=function(t){return function(){return e.setState({isVisited:t})}},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state.isVisited;return Object(r.jsxs)("div",{className:"home",children:[Object(r.jsxs)(pe.a,{className:"home-card",title:"\u5546\u54c1\u603b\u91cf",extra:Object(r.jsx)(me.a,{style:{color:"rgba(0,0,0,.45)"},type:"question-circle"}),style:{width:250},headStyle:{color:"rgba(0,0,0,.45)"},children:[Object(r.jsx)(be.a,{value:1128163,suffix:"\u4e2a",style:{fontWeight:"bolder"}}),Object(r.jsx)(be.a,{value:15,valueStyle:{fontSize:15},prefix:"\u5468\u540c\u6bd4",suffix:Object(r.jsxs)("div",{children:["%",Object(r.jsx)(me.a,{style:{color:"red",marginLeft:10},type:"arrow-down"})]})}),Object(r.jsx)(be.a,{value:10,valueStyle:{fontSize:15},prefix:"\u65e5\u540c\u6bd4",suffix:Object(r.jsxs)("div",{children:["%",Object(r.jsx)(me.a,{style:{color:"#3f8600",marginLeft:10},type:"arrow-up"})]})})]}),Object(r.jsx)(we,{}),Object(r.jsxs)(pe.a,{className:"home-content",title:Object(r.jsxs)("div",{className:"home-menu",children:[Object(r.jsx)("span",{className:e?"home-menu-active home-menu-visited":"home-menu-visited",onClick:this.handleChange(!0),children:"\u8bbf\u95ee\u91cf"}),Object(r.jsx)("span",{className:e?"":"home-menu-active",onClick:this.handleChange(!1),children:"\u9500\u552e\u91cf"})]}),extra:Object(r.jsx)(Se,{defaultValue:[xe()("2019/01/01",Ce),xe()("2019/06/01",Ce)],format:Ce}),children:[Object(r.jsx)(pe.a,{className:"home-table-left",title:e?"\u8bbf\u95ee\u8d8b\u52bf":"\u9500\u552e\u8d8b\u52bf",bodyStyle:{padding:0,height:275},extra:Object(r.jsx)(me.a,{type:"reload"}),children:Object(r.jsx)(ke,{})}),Object(r.jsx)(pe.a,{title:"\u4efb\u52a1",extra:Object(r.jsx)(me.a,{type:"reload"}),className:"home-table-right",children:Object(r.jsxs)(je.a,{children:[Object(r.jsx)(je.a.Item,{color:"green",children:"\u65b0\u7248\u672c\u8fed\u4ee3\u4f1a"}),Object(r.jsx)(je.a.Item,{color:"green",children:"\u5b8c\u6210\u7f51\u7ad9\u8bbe\u8ba1\u521d\u7248"}),Object(r.jsxs)(je.a.Item,{color:"red",children:[Object(r.jsx)("p",{children:"\u8054\u8c03\u63a5\u53e3"}),Object(r.jsx)("p",{children:"\u529f\u80fd\u9a8c\u6536"})]}),Object(r.jsxs)(je.a.Item,{children:[Object(r.jsx)("p",{children:"\u767b\u5f55\u529f\u80fd\u8bbe\u8ba1"}),Object(r.jsx)("p",{children:"\u6743\u9650\u9a8c\u8bc1"}),Object(r.jsx)("p",{children:"\u9875\u9762\u6392\u7248"})]})]})})]})]})}}]),n}(a.Component),Ie=(n(280),n(156)),Re=(n(82),n(37)),Te=n(1230),_e=n(1231),Pe=(n(132),n(64)),Ae=(n(165),n(57)),Fe=(n(246),n(90)),De=Fe.a.Option,Ue=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).formRef=c.a.createRef(),e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.setForm(this.formRef.current)}},{key:"render",value:function(){var e=this.props,t=e.categorys,n=e.parentId;return Object(r.jsxs)(Ae.a,{ref:this.formRef,onFinish:this.addCategory,children:[Object(r.jsx)(Ae.a.Item,{name:"parentId",initialValue:n,children:Object(r.jsxs)(Fe.a,{style:{width:"100%"},children:[Object(r.jsx)(De,{value:"0",children:"\u4e00\u7ea7\u5206\u7c7b"}),t.map((function(e){return Object(r.jsx)(De,{value:e._id,children:e.name},e._id)}))]})}),Object(r.jsx)(Ae.a.Item,{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u540d\u79f0"}],name:"categoryName",children:Object(r.jsx)(Pe.a,{placeholder:"\u8bf7\u8f93\u5165\u5206\u7c7b\u540d\u79f0"})})]})}}]),n}(a.Component),Me=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).formRef=c.a.createRef(),e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.setForm(this.formRef.current),this.formRef.current.setFieldsValue({name:this.props.categoryName})}},{key:"componentDidUpdate",value:function(){this.formRef.current.setFieldsValue({name:this.props.categoryName})}},{key:"render",value:function(){var e=this.props.categoryName;return Object(r.jsx)(Ae.a,{ref:this.formRef,onFinish:this.addCategory,children:Object(r.jsx)(Ae.a.Item,{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u540d\u79f0"}],name:"name",initialValue:e,children:Object(r.jsx)(Pe.a,{placeholder:"\u8bf7\u8f93\u5165\u5206\u7c7b\u540d\u79f0"})})})}}]),n}(a.Component),Ve=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).state={loading:!1,categorys:[],subCategorys:[],parentId:"0",parentName:"",showStatus:0},r.getCategories=function(){var e=Object(v.a)(y.a.mark((function e(t){var n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({loading:!0}),t=t||r.state.parentId,e.next=4,D(t);case 4:if(n=e.sent,r.setState({loading:!1}),0===n.status){e.next=8;break}return e.abrupt("return",N.b.error("\u83b7\u53d6\u5217\u8868\u5931\u8d25"));case 8:a=n.data,"0"===t?r.setState({categorys:a}):r.setState({subCategorys:a});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.showCategorys=function(){r.setState({parentId:"0",subCategorys:[],parentName:""},(function(){r.getCategories()}))},r.showSubCategorys=function(e){r.setState({parentId:e._id,parentName:e.name},(function(){r.getCategories()}))},r.handleCancel=function(){r.form.resetFields(),r.setState({showStatus:0})},r.showAdd=function(){console.log(r.form,1),r.form&&r.form.resetFields(),r.setState({showStatus:1})},r.AddCategory=Object(v.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.form.validateFields().then(function(){var e=Object(v.a)(y.a.mark((function e(t){var n,a,c,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.form.getFieldsValue(),a=n.parentId,c=n.categoryName,e.next=3,U(c,a);case 3:if(s=e.sent,0===s.status){e.next=7;break}return e.abrupt("return",N.b.error("\u9519\u8bef\u4e86\uff01"));case 7:N.b.success("\u6dfb\u52a0\u6210\u529f\uff01"),r.handleCancel(),r.getCategories();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){N.b.error("\u8bf7\u586b\u5199\u54e6\uff01")}));case 1:case"end":return e.stop()}}),e)}))),r.showUpdate=function(e){r.category=e,r.setState({showStatus:2})},r.updateCategory=Object(v.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.form.validateFields().then(function(){var e=Object(v.a)(y.a.mark((function e(t){var n,a,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),n=r.category._id,a=t.name,e.next=5,_("/manage/category/update",{categoryId:(s={categoryId:n,categoryName:a}).categoryId,categoryName:s.categoryName},"POST");case 5:if(c=e.sent,0===c.status){e.next=9;break}return e.abrupt("return",N.b.error("\u9519\u8bef\u4e86\uff01"));case 9:N.b.success("\u4fee\u6539\u6210\u529f\uff01"),r.handleCancel(),r.getCategories();case 12:case"end":return e.stop()}var s}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){N.b.error("\u9519\u8bef\u4e86\uff01")}));case 1:case"end":return e.stop()}}),e)}))),r.columns=r.initColumn(),r}return Object(l.a)(n,[{key:"initColumn",value:function(){var e=this;return[{title:"\u5206\u7c7b\u540d\u79f0",dataIndex:"name",key:"_id"},{title:"\u64cd\u4f5c",dataIndex:"age",key:"_id",width:300,render:function(t,n){return Object(r.jsxs)("span",{children:[Object(r.jsx)(ue,{onClick:function(){return e.showUpdate(n)},children:"\u4fee\u6539"}),"0"===e.state.parentId?Object(r.jsx)(ue,{onClick:function(){e.showSubCategorys(n)},children:"\u67e5\u770b\u4e8c\u7ea7\u5206\u7c7b"}):null]})}}]}},{key:"componentDidMount",value:function(){this.getCategories()}},{key:"render",value:function(){var e=this,t=this.state,n=t.categorys,a=t.loading,c=t.parentId,s=t.parentName,i=t.subCategorys,o=t.showStatus,u="0"===c?"\u4e00\u7ea7\u5206\u7c7b\u5217\u8868":Object(r.jsxs)("span",{children:[Object(r.jsx)(ue,{onClick:this.showCategorys,children:"\u4e00\u7ea7\u5206\u7c7b\u5217\u8868"}),Object(r.jsx)(Te.a,{style:{marginRight:5}}),Object(r.jsx)("span",{children:s})]}),l=Object(r.jsx)(Re.a,{icon:Object(r.jsx)(_e.a,{}),type:"primary",onClick:this.showAdd,children:"\u6dfb\u52a0\u5206\u7c7b"}),d=this.category||{};return Object(r.jsxs)("div",{children:[Object(r.jsx)(pe.a,{title:u,extra:l,children:Object(r.jsx)(Ie.a,{bordered:!1,rowKey:"_id",loading:a,dataSource:"0"===c?n:i,columns:this.columns,pagination:{defaultPageSize:5,showQuickJumper:!0}})}),Object(r.jsx)(ie.a,{title:"\u6dfb\u52a0\u5206\u7c7b",visible:1===o,onOk:this.AddCategory,onCancel:this.handleCancel,children:Object(r.jsx)(Ue,{categorys:n,parentId:c,setForm:function(t){e.form=t}})}),Object(r.jsx)(ie.a,{title:"\u66f4\u65b0\u5206\u7c7b",visible:2===o,onOk:this.updateCategory,onCancel:this.handleCancel,children:Object(r.jsx)(Me,{categoryName:d.name,setForm:function(t){e.form=t}})})]})}}]),n}(a.Component),Le="http://localhost:5000/upload/",ze={user:{},product:{}},Ee=Fe.a.Option,qe=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).initColumns=function(){e.columns=[{title:"\u5546\u54c1\u540d\u79f0",dataIndex:"name"},{title:"\u5546\u54c1\u63cf\u8ff0",dataIndex:"desc"},{title:"\u4ef7\u683c",dataIndex:"price",render:function(e){return"\xa5"+e}},{width:100,title:"\u72b6\u6001",render:function(t){var n=t.status,a=t._id,c=1===n?2:1;return Object(r.jsxs)("span",{children:[Object(r.jsx)(Re.a,{type:"primary",onClick:function(){return e.updateStatus(a,c)},children:1===n?"\u4e0b\u67b6":"\u4e0a\u67b6"}),Object(r.jsx)("span",{children:1===n?"\u5728\u552e":"\u5df2\u4e0b\u67b6"})]})}},{width:100,title:"\u64cd\u4f5c",render:function(t){return Object(r.jsxs)("span",{children:[Object(r.jsx)(ue,{onClick:function(){return e.showDetail(t)},children:"\u8be6\u60c5"}),Object(r.jsx)(ue,{onClick:function(){return e.showUpdate(t)},children:"\u4fee\u6539"})]})}}]},e.state={total:0,products:[],loading:!1,searchName:"",searchType:"productName"},e.showDetail=function(t){ze.product=t,e.props.history.push("/product/detail")},e.showUpdate=function(t){ze.product=t,e.props.history.push("/product/addupdate")},e.getProducts=function(){var t=Object(v.a)(y.a.mark((function t(n){var r,a,c,s,i,o,u;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.pageNum=n,e.setState({loading:!0}),r=e.state,a=r.searchName,c=r.searchType,!a){t.next=9;break}return t.next=6,z({pageNum:n,pageSize:3,searchName:a,searchType:c});case 6:s=t.sent,t.next=12;break;case 9:return t.next=11,V(n,3);case 11:s=t.sent;case 12:if(e.setState({loading:!1}),0===s.status){t.next=15;break}return t.abrupt("return",N.b.error("\u9519\u8bef"));case 15:i=s.data,o=i.total,u=i.list,e.setState({total:o,products:u});case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.updateStatus=function(){var t=Object(v.a)(y.a.mark((function t(n,r){var a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.next=3,L(n,r);case 3:if(a=t.sent,e.setState({loading:!1}),0===a.status){t.next=7;break}return t.abrupt("return",N.b.error("\u9519\u8bef"));case 7:N.b.success("\u6210\u529f\u4e86\uff01"),e.getProducts(e.pageNum);case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getProducts(1),this.initColumns()}},{key:"render",value:function(){var e=this,t=this.state,n=t.products,a=t.total,c=t.loading,s=t.searchType,i=t.searchName,o=Object(r.jsxs)("span",{children:[Object(r.jsxs)(Fe.a,{value:s,style:{width:150},onChange:function(t){return e.setState({searchType:t})},children:[Object(r.jsx)(Ee,{value:"productName",children:"\u6309\u540d\u79f0\u641c\u7d22"}),Object(r.jsx)(Ee,{value:"productDesc",children:"\u6309\u63cf\u8ff0\u641c\u7d22"})]}),Object(r.jsx)(Pe.a,{placeholder:"\u5173\u952e\u5b57",style:{width:150,margin:"0 15px"},value:i,onChange:function(t){return e.setState({searchName:t.target.value})}}),Object(r.jsx)(Re.a,{type:"primary",onClick:function(){return e.getProducts(1)},children:"\u641c\u7d22"})]}),u=Object(r.jsxs)(Re.a,{type:"primary",onClick:function(){return e.props.history.push("/product/addupdate")},children:[Object(r.jsx)(_e.a,{}),"\u6dfb\u52a0\u5546\u54c1"]});return Object(r.jsx)(pe.a,{title:o,extra:u,children:Object(r.jsx)(Ie.a,{bordered:!0,rowKey:"_id",loading:c,dataSource:n,columns:this.columns,pagination:{current:this.pageNum,total:a,defaultPageSize:3,showQuickJumper:!0,onChange:this.getProducts}})})}}]),n}(a.Component),Ke=(n(790),n(569)),He=n(239),Be=n(281),We=n(1232),Je=(n(1227),n(567));function Ge(e){return new Promise((function(t,n){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){return t(r.result)},r.onerror=function(e){return n(e)}}))}var Ye=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var r;Object(u.a)(this,n),(r=t.call(this,e)).handleCancel=function(){return r.setState({previewVisible:!1})},r.handlePreview=function(){var e=Object(v.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.url||t.preview){e.next=4;break}return e.next=3,Ge(t.originFileObj);case 3:t.preview=e.sent;case 4:r.setState({previewImage:t.url||t.preview,previewVisible:!0,previewTitle:t.name||t.url.substring(t.url.lastIndexOf("/")+1)});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.handleChange=function(){var e=Object(v.a)(y.a.mark((function e(t){var n,a,c,s,i,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.file,a=t.fileList,"done"!==n.status){e.next=6;break}0===(c=n.response).status?(N.b.success("\u6210\u529f\u4e86\uff01"),s=c.data,i=s.name,o=s.url,(n=a[a.length-1]).name=i,n.url=o):N.b.error("\u5931\u8d25\u4e86\uff01"),e.next=13;break;case 6:if("removed"!==n.status){e.next=13;break}return e.next=9,E(n.name);case 9:if(0===e.sent.status){e.next=12;break}return e.abrupt("return",N.b.error("\u5220\u9664\u5931\u8d25\uff01"));case 12:N.b.info("\u5220\u9664\u6210\u529f\uff01");case 13:r.setState({fileList:a});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.getImgs=function(){return r.state.fileList.map((function(e){return e.name}))};var a=r.props.imgs,c=[];return a&&a.length>0&&(c=a.map((function(e,t){return{uid:-t,name:e,status:"done",url:Le+e}}))),r.state={previewVisible:!1,previewImage:"",previewTitle:"",fileList:c},r}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.previewVisible,n=e.previewImage,a=e.fileList,c=e.previewTitle;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Je.a,{action:"/manage/img/upload",listType:"picture-card",accept:"image/*",name:"image",fileList:a,onPreview:this.handlePreview,onChange:this.handleChange,children:Object(r.jsx)("div",{style:{marginTop:8},children:Object(r.jsx)(_e.a,{})})}),Object(r.jsx)(ie.a,{visible:t,title:c,footer:null,onCancel:this.handleCancel,width:"100%",children:Object(r.jsx)("img",{alt:"example",style:{width:"100%"},src:n})})]})}}]),n}(c.a.Component),Qe=n(181),Xe=n(554),Ze=n(555),$e=n.n(Ze),et=n(556),tt=n.n(et),nt=(n(898),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var r;Object(u.a)(this,n),(r=t.call(this,e)).getDetail=function(){return $e()(Object(Qe.convertToRaw)(r.state.editorState.getCurrentContent()))},r.onEditorStateChange=function(e){r.setState({editorState:e})},r.uploadImageCallBack=function(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.open("POST","/manage/img/upload");var a=new FormData;a.append("image",e),r.send(a),r.addEventListener("load",(function(){var e=JSON.parse(r.responseText).data.url;t({data:{link:e}})})),r.addEventListener("error",(function(){var e=JSON.parse(r.responseText);n(e)}))}))};var a=r.props.detail;if(a){var c=tt()(a),s=Qe.ContentState.createFromBlockArray(c.contentBlocks),i=Qe.EditorState.createWithContent(s);r.state={editorState:i}}else r.state={editorState:Qe.EditorState.createEmpty()};return r}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state.editorState;return Object(r.jsx)(Xe.Editor,{editorState:e,editorStyle:{border:"1px solid black",minHeight:200,maxHeight:500,paddingLeft:10},toolbar:{image:{uploadCallback:this.uploadImageCallBack,alt:{present:!0,mandatory:!0}}},onEditorStateChange:this.onEditorStateChange})}}]),n}(a.Component)),rt=Ae.a.Item,at=Pe.a.TextArea,ct=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var r;Object(u.a)(this,n),(r=t.call(this,e)).formRef=c.a.createRef(),r.state={options:[]},r.validatorPrice=function(e,t){return t>=0&&t<=999999999?Promise.resolve():Promise.reject("\uff1f\uff1f\uff1f")},r.initOptions=function(){var e=Object(v.a)(y.a.mark((function e(t){var n,a,c,s,i,o,u;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.map((function(e){return{value:e._id,label:e.name,isLeaf:!1}})),a=Object(Be.a)(r),c=a.isUpdate,s=a.product,i=s.pCategoryId,s.categoryId,!c||"0"===i){e.next=10;break}return e.next=6,r.getCategorys(i);case 6:o=e.sent,u=o.map((function(e){return{value:e._id,label:e.name,isLeaf:!0}})),n.find((function(e){return e.value===i})).children=u;case 10:r.setState({options:n});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.getCategorys=function(){var e=Object(v.a)(y.a.mark((function e(t){var n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=t||"0",e.next=3,D(t);case 3:if(0===(n=e.sent).status){e.next=6;break}return e.abrupt("return",N.b.error("\u5206\u7c7b\u83b7\u53d6\u5931\u8d25"));case 6:if(a=n.data,"0"!==t){e.next=11;break}r.initOptions(a),e.next=12;break;case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.loadData=function(){var e=Object(v.a)(y.a.mark((function e(t){var n,a,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t[t.length-1]).loading=!0,e.next=4,r.getCategorys(n.value);case 4:(a=e.sent)&&a.length>0?(c=a.map((function(e){return{value:e._id,label:e.name,isLeaf:!0}})),n.children=c):n.isLeaf=!0,n.loading=!1,r.setState({options:Object(He.a)(r.state.options)});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.handleSubmit=function(){r.formRef.current.validateFields().then(function(){var e=Object(v.a)(y.a.mark((function e(t){var n,a,c,s,i,o,u,l,d;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,a=t.desc,c=t.price,1===(s=t.categoryIds).length?(i=0,o=s[0]):(i=s[0],o=s[1]),u=r.pw.current.getImgs(),l=r.edit.current.getDetail(),d={name:n,desc:a,price:c,imgs:u,detail:l,pCategoryId:i,categoryId:o},r.isUpdate&&(d._id=r.product._id),e.next=8,q(d);case 8:if(0===e.sent.status){e.next=11;break}return e.abrupt("return",N.b.error("\u66f4\u65b0\u5931\u8d25"));case 11:N.b.success("".concat(r.isUpdate?"\u66f4\u65b0":"\u6dfb\u52a0","\u5546\u54c1\u6210\u529f")),r.props.history.goBack(),console.log(t);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch()};var a=ze.product;return r.pw=c.a.createRef(),r.edit=c.a.createRef(),r.isUpdate=!!a._id,r.product=a||{},r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getCategorys()}},{key:"componentWillUnmount",value:function(){ze.product={}}},{key:"render",value:function(){var e=this,t=this.isUpdate,n=Object(r.jsxs)("span",{children:[Object(r.jsx)(ue,{children:Object(r.jsx)(We.a,{style:{marginRight:10,fontSize:20},onClick:function(){return e.props.history.goBack()}})}),Object(r.jsx)("span",{children:t?"\u4fee\u6539\u5546\u54c1":"\u6dfb\u52a0\u5546\u54c1"})]}),a=this.product,c=this.isUpdate,s=a.pCategoryId,i=a.categoryId,o=a.imgs,u=a.detail,l=[];return c&&("0"===s?l.push(s):(l.push(s),l.push(i))),Object(r.jsx)(pe.a,{title:n,children:Object(r.jsxs)(Ae.a,Object(oe.a)(Object(oe.a)({},{labelCol:{span:2},wrapperCol:{span:8}}),{},{ref:this.formRef,onFinish:this.handleSubmit,children:[Object(r.jsx)(rt,{label:"\u5546\u54c1\u540d\u79f0",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5546\u54c1\u540d\u79f0"}],name:"name",initialValue:a.name,children:Object(r.jsx)(Pe.a,{placeholder:"\u5546\u54c1\u540d\u79f0"})}),Object(r.jsx)(rt,{label:"\u5546\u54c1\u63cf\u8ff0",name:"desc",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5546\u54c1\u63cf\u8ff0"}],initialValue:a.desc,children:Object(r.jsx)(at,{placeholder:"\u5546\u54c1\u63cf\u8ff0",autoSize:{minRows:2,maxRows:5}})}),Object(r.jsx)(rt,{label:"\u5546\u54c1\u4ef7\u683c",name:"price",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5546\u54c1\u4ef7\u683c"},{validator:this.validatorPrice}],initialValue:a.price,children:Object(r.jsx)(Pe.a,{type:"number",placeholder:"\u5546\u54c1\u4ef7\u683c",addonAfter:"\u5143"})}),Object(r.jsx)(rt,{label:"\u5546\u54c1\u5206\u7c7b",name:"categoryIds",initialValue:l,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5206\u7c7b"}],children:Object(r.jsx)(Ke.a,{options:this.state.options,loadData:this.loadData,onChange:this.onChange,changeOnSelect:!0})}),Object(r.jsx)(rt,{label:"\u5546\u54c1\u56fe\u7247",name:"imgs",children:Object(r.jsx)(Ye,{ref:this.pw,imgs:o})}),Object(r.jsx)(rt,{label:"\u5546\u54c1\u8be6\u60c5",name:"detail",labelCol:{span:2},wrapperCol:{span:20},children:Object(r.jsx)(nt,{ref:this.edit,detail:u})}),Object(r.jsx)(rt,{children:Object(r.jsx)(Re.a,{type:"primary",htmlType:"submit",children:"\u63d0\u4ea4"})})]}))})}}]),n}(a.Component),st=(n(901),n(370)),it=st.b.Item,ot=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={cName1:"",cName2:""},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=Object(v.a)(y.a.mark((function e(){var t,n,r,a,c,s,i,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=ze.product,n=t.pCategoryId,r=t.categoryId,"0"!==n){e.next=9;break}return e.next=4,M(r);case 4:a=e.sent,c=a.data.name,this.setState({cName1:c}),e.next=15;break;case 9:return e.next=11,Promise.all([M(n),M(r)]);case 11:s=e.sent,i=s[0].data.name,o=s[1].data.name,this.setState({cName1:i,cName2:o});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){ze.product={}}},{key:"render",value:function(){var e=this,t=ze.product,n=t.name,a=t.desc,c=t.price,s=t.detail,i=t.imgs,o=this.state,u=o.cName1,l=o.cName2,d=Object(r.jsxs)("span",{children:[Object(r.jsx)(ue,{children:Object(r.jsx)(We.a,{style:{marginRight:10,fontSize:20},onClick:function(){return e.props.history.goBack()}})}),Object(r.jsx)("span",{children:"\u5546\u54c1\u8be6\u60c5"})]});return Object(r.jsx)(pe.a,{title:d,className:"product-detail",children:Object(r.jsxs)(st.b,{children:[Object(r.jsxs)(it,{children:[Object(r.jsx)("span",{className:"left",children:"\u5546\u54c1\u540d\u79f0:"}),Object(r.jsx)("span",{children:n})]}),Object(r.jsxs)(it,{children:[Object(r.jsx)("span",{className:"left",children:"\u5546\u54c1\u63cf\u8ff0:"}),Object(r.jsx)("span",{children:a})]}),Object(r.jsxs)(it,{children:[Object(r.jsx)("span",{className:"left",children:"\u5546\u54c1\u4ef7\u683c:"}),Object(r.jsxs)("span",{children:[c,"\u5143"]})]}),Object(r.jsxs)(it,{children:[Object(r.jsx)("span",{className:"left",children:"\u6240\u5c5e\u5206\u7c7b:"}),Object(r.jsxs)("span",{children:[u," ",l?" --\x3e "+l:""]})]}),Object(r.jsxs)(it,{children:[Object(r.jsx)("span",{className:"left",children:"\u5546\u54c1\u56fe\u7247:"}),Object(r.jsx)("span",{children:i.map((function(e){return Object(r.jsx)("img",{src:Le+e,className:"product-img",alt:"img"},e)}))})]}),Object(r.jsxs)(it,{children:[Object(r.jsx)("span",{className:"left",children:"\u5546\u54c1\u8be6\u60c5:"}),Object(r.jsx)("span",{dangerouslySetInnerHTML:{__html:s}})]})]})})}}]),n}(a.Component),ut=(n(903),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsxs)(p.d,{children:[Object(r.jsx)(p.b,{path:"/product",component:qe,exact:!0}),Object(r.jsx)(p.b,{path:"/product/addupdate",component:ct}),Object(r.jsx)(p.b,{path:"/product/detail",component:ot}),Object(r.jsx)(p.a,{to:"/product"})]})}}]),n}(a.Component)),lt=n(96),dt=n.n(lt),ht=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).propType={setForm:dt.a.func},e.formRef=c.a.createRef(),e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.setForm(this.formRef.current)}},{key:"render",value:function(){return Object(r.jsx)(Ae.a,{ref:this.formRef,children:Object(r.jsx)(Ae.a.Item,Object(oe.a)(Object(oe.a)({initialValue:"",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u89d2\u8272\u540d\u79f0\uff01"}],name:"roleName",label:"\u89d2\u8272\u540d\u79f0"},{labelCol:{span:4},wrapperCol:{span:15}}),{},{children:Object(r.jsx)(Pe.a,{placeholder:"\u8bf7\u8f93\u5165\u89d2\u8272\u540d\u79f0"})}))})}}]),n}(a.Component),jt=(n(904),n(568)),pt=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).propType={role:dt.a.object},r.formRef=c.a.createRef(),r.getTreeNodes=function(e){return[{title:"\u5e73\u53f0",key:"all",children:e}]},r.onCheck=function(e){r.setState({checkedKeys:e})},r.getMenus=function(){return r.state.checkedKeys},r.state={checkedKeys:[],role:[]},r.treeNodes=r.getTreeNodes(x),r}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.role,t=this.state.checkedKeys;return Object(r.jsxs)("div",{children:[Object(r.jsx)(Ae.a,{children:Object(r.jsx)(Ae.a.Item,{label:"\u89d2\u8272\u540d\u79f0",children:Object(r.jsx)(Pe.a,{value:e.name,readOnly:!0})})}),Object(r.jsx)(jt.a,{checkable:!0,defaultExpandAll:!0,checkedKeys:t,onCheck:this.onCheck,treeData:this.treeNodes})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.role!==t.role?{checkedKeys:e.role.menus,role:e.role}:null}}]),n}(a.Component),bt=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).state={roles:[],role:{},isShowAdd:!1,isShowAuth:!1},r.initColumn=function(){r.columns=[{title:"\u89d2\u8272\u540d\u79f0",dataIndex:"name"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"create_time",render:function(e){return le(e)}},{title:"\u6388\u6743\u65f6\u95f4",dataIndex:"auth_time",render:le},{title:"\u6388\u6743\u4eba",dataIndex:"auth_name"}]},r.getRoles=Object(v.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("/manage/role/list");case 2:0===(t=e.sent).status&&(n=t.data,r.setState({roles:n}));case 4:case"end":return e.stop()}}),e)}))),r.onRow=function(e){return{onClick:function(t){r.setState({role:e})}}},r.addRole=Object(v.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.form.validateFields().then(function(){var e=Object(v.a)(y.a.mark((function e(t){var n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("/manage/role/add",{roleName:t.roleName},"POST");case 2:if(0===(n=e.sent).status){e.next=5;break}return e.abrupt("return",N.b.error("\u9519\u8bef\u4e86"));case 5:a=n.data,r.setState((function(e){return{roles:[].concat(Object(He.a)(e.roles),[a]),isShowAdd:!1}}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){N.b.error("\u8bf7\u5148\u586b\u5199\u5b57\u6bb5\uff01")}));case 1:case"end":return e.stop()}}),e)}))),r.updateRole=Object(v.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.state.role,n=r.auth.current.getMenus(),t.menus=n,t.auth_name=r.props.user.username,t.auth_time=Date.now(),e.next=7,K(t);case 7:if(0===e.sent.status){e.next=10;break}return e.abrupt("return",N.b.error("\u9519\u8bef\u4e86\uff01"));case 10:t._id===r.props.user.role_id?(r.props.user={},r.logout(),N.b.success("\u5f53\u524d\u89d2\u8272\u6743\u9650\u4fee\u6539\u4e86\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55"),r.props.history.replace("/login")):(N.b.success("\u6743\u9650\u66f4\u65b0\u6210\u529f\uff01"),r.setState({isShowAuth:!1,roles:Object(He.a)(r.state.roles)}));case 11:case"end":return e.stop()}}),e)}))),r.auth=c.a.createRef(),r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.initColumn(),this.getRoles()}},{key:"render",value:function(){var e=this,t=this.state,n=t.roles,a=t.role,c=t.isShowAdd,s=t.isShowAuth,i=Object(r.jsxs)("span",{children:[Object(r.jsx)(Re.a,{type:"primary",onClick:function(){return e.setState({isShowAdd:!0})},children:"\u521b\u5efa\u89d2\u8272"}),"\xa0\xa0",Object(r.jsx)(Re.a,{type:"primary",disabled:!a._id,onClick:function(){return e.setState({isShowAuth:!0})},children:"\u8bbe\u7f6e\u89d2\u8272\u6743\u9650"})]});return Object(r.jsxs)(pe.a,{title:i,children:[Object(r.jsx)(Ie.a,{bordered:!0,rowKey:"_id",dataSource:n,columns:this.columns,pagination:{defaultPageSize:3},rowSelection:{type:"radio",selectedRowKeys:[a._id],onSelect:function(t){e.setState({role:t})}},onRow:this.onRow}),Object(r.jsx)(ie.a,{title:"\u6dfb\u52a0\u89d2\u8272",visible:c,onOk:this.addRole,onCancel:function(){e.setState({isShowAdd:!1}),e.form.resetFields()},children:Object(r.jsx)(ht,{setForm:function(t){return e.form=t}})}),Object(r.jsx)(ie.a,{title:"\u8bbe\u7f6e\u89d2\u8272\u6743\u9650",visible:s,onOk:this.updateRole,onCancel:function(){e.setState({isShowAuth:!1})},children:Object(r.jsx)(pt,{ref:this.auth,role:a})})]})}}]),n}(a.Component),mt=Object(s.b)((function(e){return{user:e.user}}),{logout:ne})(bt),ft=n(1233),Ot=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).propType={setForm:dt.a.func},e.formRef=c.a.createRef(),e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.setForm(this.formRef.current),this.formRef.current.setFieldsValue(Object(oe.a)({},this.props.user))}},{key:"componentDidUpdate",value:function(){this.formRef.current.setFieldsValue(Object(oe.a)({},this.props.user))}},{key:"render",value:function(){var e={labelCol:{span:4},wrapperCol:{span:15}},t=this.props,n=t.roles,a=t.user;return Object(r.jsxs)(Ae.a,{ref:this.formRef,children:[Object(r.jsx)(Ae.a.Item,Object(oe.a)(Object(oe.a)({initialValue:"",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d\uff01"}],name:"username",label:"\u7528\u6237\u540d"},e),{},{children:Object(r.jsx)(Pe.a,{placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"})})),a._id?null:Object(r.jsx)(Ae.a.Item,Object(oe.a)(Object(oe.a)({initialValue:"",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801\uff01"}],name:"password",label:"\u5bc6\u7801"},e),{},{children:Object(r.jsx)(Pe.a,{placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",type:"password"})})),Object(r.jsx)(Ae.a.Item,Object(oe.a)(Object(oe.a)({initialValue:"",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7\uff01"}],name:"phone",label:"\u624b\u673a\u53f7"},e),{},{children:Object(r.jsx)(Pe.a,{placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7"})})),Object(r.jsx)(Ae.a.Item,Object(oe.a)(Object(oe.a)({initialValue:"",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u90ae\u7bb1\uff01"}],name:"email",label:"\u90ae\u7bb1"},e),{},{children:Object(r.jsx)(Pe.a,{placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1",type:"email"})})),Object(r.jsx)(Ae.a.Item,Object(oe.a)(Object(oe.a)({initialValue:"",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u89d2\u8272"}],name:"role_id",label:"\u89d2\u8272"},e),{},{children:Object(r.jsx)(Fe.a,{children:n.map((function(e){return Object(r.jsx)(Fe.a.Option,{value:e._id,children:e.name},e._id)}))})}))]})}}]),n}(a.Component),xt=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={users:[],roles:[],isShow:!1},e.initColumns=function(){e.columns=[{title:"\u7528\u6237\u540d",dataIndex:"username"},{title:"\u90ae\u7bb1",dataIndex:"email"},{title:"\u7535\u8bdd",dataIndex:"phone"},{title:"\u6ce8\u518c\u65f6\u95f4",dataIndex:"create_time",render:le},{title:"\u6240\u5c5e\u89d2\u8272",dataIndex:"role_id",render:function(t){return e.roleNames[t]}},{title:"\u64cd\u4f5c",render:function(t){return Object(r.jsxs)("span",{children:[Object(r.jsx)(ue,{onClick:function(){return e.showUpdate(t)},children:"\u4fee\u6539"}),Object(r.jsx)(ue,{onClick:function(){return e.deleteUser(t)},children:"\u5220\u9664"})]})}}]},e.initRoleNames=function(t){var n=t.reduce((function(e,t){return e[t._id]=t.name,e}),{});e.roleNames=n},e.getUsers=Object(v.a)(y.a.mark((function t(){var n,r,a,c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H();case 2:0===(n=t.sent).status&&(r=n.data,a=r.users,c=r.roles,e.initRoleNames(c),e.setState({users:a,roles:c}));case 4:case"end":return t.stop()}}),t)}))),e.showAdd=function(){e.setState({isShow:!0})},e.showUpdate=function(t){e.user=t,e.setState({isShow:!0})},e.deleteUser=function(t){ie.a.confirm({title:"\u786e\u8ba4\u5220\u9664".concat(t.username,"\u4e48\uff1f"),icon:Object(r.jsx)(ft.a,{}),onOk:function(){var n=Object(v.a)(y.a.mark((function n(){return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,B(t._id);case 2:if(0===n.sent.status){n.next=5;break}return n.abrupt("return",N.b.error("\u5220\u9664\u5931\u8d25\uff01"));case 5:N.b.success("\u5220\u9664\u6210\u529f\uff01"),e.getUsers();case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()})},e.addOrUpdateUser=function(){e.form.validateFields().then(function(){var t=Object(v.a)(y.a.mark((function t(n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.user&&(n._id=e.user._id),t.next=3,W(n);case 3:if(0===t.sent.status){t.next=6;break}return t.abrupt("return",N.b.error("\u5931\u8d25"));case 6:N.b.success("\u6210\u529f"),e.form.resetFields(),e.getUsers(),e.setState({isShow:!1});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getUsers(),this.initColumns()}},{key:"render",value:function(){var e=this,t=this.state,n=t.users,a=t.roles,c=t.isShow,s=this.user||{},i=Object(r.jsx)(Re.a,{type:"primary",onClick:this.showAdd,children:"\u521b\u5efa\u7528\u6237"});return Object(r.jsxs)(pe.a,{title:i,children:[Object(r.jsx)(Ie.a,{bordered:!0,rowKey:"_id",dataSource:n,columns:this.columns,pagination:{defaultPageSize:2}}),Object(r.jsx)(ie.a,{title:s._id?"\u4fee\u6539\u7528\u6237":"\u6dfb\u52a0\u7528\u6237",visible:c,onOk:this.addOrUpdateUser,onCancel:function(){e.form.resetFields(),e.setState({isShow:!1})},children:Object(r.jsx)(Ot,{setForm:function(t){return e.form=t},roles:a,user:s})})]})}}]),n}(a.Component),gt=n(183),yt=n.n(gt),vt=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={sales:[5,20,36,10,10,20],stores:[6,10,25,20,15,10]},e.update=function(){e.setState((function(e){return{sales:e.sales.map((function(e){return e+1})),stores:e.stores.reduce((function(e,t){return e.push(t-1),e}),[])}}))},e.getOptions=function(e,t){return{title:{text:"ECharts \u5165\u95e8\u793a\u4f8b"},tooltip:{},legend:{data:["\u9500\u91cf","\u5e93\u5b58"]},xAxis:{data:["\u886c\u886b","\u7f8a\u6bdb\u886b","\u96ea\u7eba\u886b","\u88e4\u5b50","\u9ad8\u8ddf\u978b","\u889c\u5b50"]},yAxis:{},series:[{name:"\u9500\u91cf",type:"bar",data:e},{name:"\u5e93\u5b58",type:"bar",data:t}]}},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.sales,n=e.stores;return Object(r.jsxs)("div",{children:[Object(r.jsx)(pe.a,{children:Object(r.jsx)(Re.a,{type:"primary",onClick:this.update,children:"\u66f4\u65b0"})}),Object(r.jsx)(pe.a,{title:"\u67f1\u72b6\u56fe\u4e00",children:Object(r.jsx)(yt.a,{option:this.getOptions(t,n)})})]})}}]),n}(a.Component),wt=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={sales:[5,20,36,10,10,20],stores:[6,10,25,20,15,10]},e.update=function(){e.setState((function(e){return{sales:e.sales.map((function(e){return e+1})),stores:e.stores.reduce((function(e,t){return e.push(t-1),e}),[])}}))},e.getOption=function(e,t){return{title:{text:"ECharts \u5165\u95e8\u793a\u4f8b"},tooltip:{},legend:{data:["\u9500\u91cf","\u5e93\u5b58"]},xAxis:{data:["\u886c\u886b","\u7f8a\u6bdb\u886b","\u96ea\u7eba\u886b","\u88e4\u5b50","\u9ad8\u8ddf\u978b","\u889c\u5b50"]},yAxis:{},series:[{name:"\u9500\u91cf",type:"line",data:e},{name:"\u5e93\u5b58",type:"line",data:t}]}},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.sales,n=e.stores;return Object(r.jsxs)("div",{children:[Object(r.jsx)(pe.a,{children:Object(r.jsx)(Re.a,{type:"primary",onClick:this.update,children:"\u66f4\u65b0"})}),Object(r.jsx)(pe.a,{title:"\u6298\u7ebf\u56fe\u4e00",children:Object(r.jsx)(yt.a,{option:this.getOption(t,n)})})]})}}]),n}(a.Component),kt=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).getOption=function(){return{title:{text:"\u67d0\u7ad9\u70b9\u7528\u6237\u8bbf\u95ee\u6765\u6e90",subtext:"\u7eaf\u5c5e\u865a\u6784",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:["\u76f4\u63a5\u8bbf\u95ee","\u90ae\u4ef6\u8425\u9500","\u8054\u76df\u5e7f\u544a","\u89c6\u9891\u5e7f\u544a","\u641c\u7d22\u5f15\u64ce"]},series:[{name:"\u8bbf\u95ee\u6765\u6e90",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:335,name:"\u76f4\u63a5\u8bbf\u95ee"},{value:310,name:"\u90ae\u4ef6\u8425\u9500"},{value:234,name:"\u8054\u76df\u5e7f\u544a"},{value:135,name:"\u89c6\u9891\u5e7f\u544a"},{value:1548,name:"\u641c\u7d22\u5f15\u64ce"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}},e.getOption2=function(){return{backgroundColor:"#2c343c",title:{text:"Customized Pie",left:"center",top:20,textStyle:{color:"#ccc"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},visualMap:{show:!1,min:80,max:600,inRange:{colorLightness:[0,1]}},series:[{name:"\u8bbf\u95ee\u6765\u6e90",type:"pie",radius:"55%",center:["50%","50%"],data:[{value:335,name:"\u76f4\u63a5\u8bbf\u95ee"},{value:310,name:"\u90ae\u4ef6\u8425\u9500"},{value:274,name:"\u8054\u76df\u5e7f\u544a"},{value:235,name:"\u89c6\u9891\u5e7f\u544a"},{value:400,name:"\u641c\u7d22\u5f15\u64ce"}].sort((function(e,t){return e.value-t.value})),roseType:"radius",label:{normal:{textStyle:{color:"rgba(255, 255, 255, 0.3)"}}},labelLine:{normal:{lineStyle:{color:"rgba(255, 255, 255, 0.3)"},smooth:.2,length:10,length2:20}},itemStyle:{normal:{color:"#c23531",shadowBlur:200,shadowColor:"rgba(0, 0, 0, 0.5)"}},animationType:"scale",animationEasing:"elasticOut",animationDelay:function(e){return 200*Math.random()}}]}},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)(pe.a,{title:"\u997c\u56fe\u4e00",children:Object(r.jsx)(yt.a,{option:this.getOption(),style:{height:300}})}),Object(r.jsx)(pe.a,{title:"\u997c\u56fe\u4e8c",children:Object(r.jsx)(yt.a,{option:this.getOption2(),style:{height:300}})})]})}}]),n}(a.Component),Ct=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsx)("div",{children:"order"})}}]),n}(a.Component),St=(n(387),n(162)),Nt=(n(388),n(93)),It=(n(1222),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).goHome=function(){e.props.setHeadTitle("\u9996\u9875"),e.props.history.replace("/home")},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsxs)(St.a,{className:"not-found",children:[Object(r.jsx)(Nt.a,{span:12,className:"left"}),Object(r.jsxs)(Nt.a,{span:12,className:"right",children:[Object(r.jsx)("h1",{children:"404"}),Object(r.jsx)("h2",{children:"\u62b1\u6b49\uff0c\u4f60\u8bbf\u95ee\u7684\u9875\u9762\u4e0d\u5b58\u5728"}),Object(r.jsx)("div",{children:Object(r.jsx)(Re.a,{type:"primary",onClick:this.goHome,children:"\u56de\u5230\u9996\u9875"})})]})]})}}]),n}(a.Component)),Rt=Object(s.b)(null,{setHeadTitle:ee})(It),Tt=b.a.Footer,_t=b.a.Sider,Pt=b.a.Content,At=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.user;return e&&e._id?Object(r.jsxs)(b.a,{style:{minHeight:"100%"},children:[Object(r.jsx)(_t,{children:Object(r.jsx)(se,{})}),Object(r.jsxs)(b.a,{children:[Object(r.jsxs)(he,{children:[" Hello ",e.username]}),Object(r.jsx)(Pt,{style:{margin:20,backgroundColor:"#fff"},children:Object(r.jsxs)(p.d,{children:[Object(r.jsx)(p.a,{exact:!0,from:"/",to:"/home"}),Object(r.jsx)(p.b,{path:"/home",component:Ne}),Object(r.jsx)(p.b,{path:"/category",component:Ve}),Object(r.jsx)(p.b,{path:"/product",component:ut}),Object(r.jsx)(p.b,{path:"/role",component:mt}),Object(r.jsx)(p.b,{path:"/user",component:xt}),Object(r.jsx)(p.b,{path:"/charts/bar",component:vt}),Object(r.jsx)(p.b,{path:"/charts/line",component:wt}),Object(r.jsx)(p.b,{path:"/charts/pie",component:kt}),Object(r.jsx)(p.b,{path:"/order",component:Ct}),Object(r.jsx)(p.b,{component:Rt})]})}),Object(r.jsx)(Tt,{style:{textAlign:"center",color:"#ccc"},children:"\u63a8\u8350\u4f7f\u7528\u5495\u5495\u6d4f\u89c8\u5668\u83b7\u5f97\u6781\u81f4\u4f53\u9a8c"})]})]}):Object(r.jsx)(p.a,{to:"/login"})}}]),n}(a.Component),Ft=Object(s.b)((function(e){return{user:e.user}}),{})(At),Dt=n(1234),Ut=n(1235),Mt=(n(1223),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).formRef=c.a.createRef(),e.handleSubmit=Object(v.a)(y.a.mark((function t(){var n,r,a,c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.formRef.current.getFieldValue,r=n(),a=r.username,c=r.password,e.props.login(a,c);case 3:case"end":return t.stop()}}),t)}))),e.validatePwd=function(e,t){return t?t.length<5?Promise.reject("\u5bc6\u7801\u957f\u5ea6\u4e0d\u80fd\u5c0f\u4e8e4"):t.length>12?Promise.reject("\u5bc6\u7801\u957f\u5ea6\u4e0d\u80fd\u5927\u4e8e12"):/^[a-zA-Z0-9_]+$/.test(t)?Promise.resolve():Promise.reject("\u5bc6\u7801\u5fc5\u987b\u662f\u5927\u5199\u5b57\u6bcd\u3001\u5c0f\u5199\u5b57\u6bcd\u6216\u4e0b\u5212\u7ebf\u7ec4\u6210"):Promise.reject("\u5bc6\u7801\u5fc5\u987b\u8f93\u5165")},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.user;if(e&&e._id)return Object(r.jsx)(p.a,{to:"/home"});var t=this.props.user.errorMsg;return Object(r.jsxs)("div",{className:"login",children:[Object(r.jsxs)("header",{className:"login-header",children:[Object(r.jsx)("img",{src:O}),Object(r.jsx)("h1",{children:"React\u9879\u76ee\uff1a\u8c37\u7c92\u5546\u57ce"})]}),Object(r.jsxs)("section",{className:"login-content",children:[Object(r.jsx)("div",{className:t?"error-msg show":"error-msg",children:t}),Object(r.jsx)("h2",{children:"\u7528\u6237\u767b\u5f55"}),Object(r.jsxs)(Ae.a,{name:"normal_login",className:"login-form",ref:this.formRef,onFinish:this.handleSubmit,children:[Object(r.jsx)(Ae.a.Item,{name:"username",rules:[{required:!0,whitespace:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"},{min:4,message:"\u7528\u6237\u540d\u6700\u5c114\u4f4d"},{max:12,message:"\u7528\u6237\u540d\u6700\u591a12\u4f4d"},{pattern:/^[a-zA-Z0-9_]+$/,message:"\u7528\u6237\u540d\u5fc5\u987b\u662f\u5927\u5199\u5b57\u6bcd\u3001\u5c0f\u5199\u5b57\u6bcd\u6216\u4e0b\u5212\u7ebf\u7ec4\u6210"}],children:Object(r.jsx)(Pe.a,{prefix:Object(r.jsx)(Dt.a,{className:"site-form-item-icon",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"})}),Object(r.jsx)(Ae.a.Item,{name:"password",rules:[{validator:this.validatePwd}],children:Object(r.jsx)(Pe.a,{prefix:Object(r.jsx)(Ut.a,{className:"site-form-item-icon",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"})}),Object(r.jsx)(Ae.a.Item,{children:Object(r.jsx)(Re.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:"\u767b\u5f55"})})]})]})]})}}]),n}(a.Component)),Vt=Object(s.b)((function(e){return{user:e.user}}),{login:function(e,t){return function(){var n=Object(v.a)(y.a.mark((function n(r){var a,c,s;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,F(e,t);case 2:0===(a=n.sent).status?(c=a.data,X(c),r(te(c))):(s=a.msg,r({type:C,errorMsg:s}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})(Mt),Lt=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsx)(j.a,{children:Object(r.jsxs)(p.d,{children:[Object(r.jsx)(p.b,{path:"/login",component:Vt}),Object(r.jsx)(p.b,{path:"/",component:Ft})]})})}}]),n}(a.Component),zt=n(151),Et=n(564),qt=n(565);var Kt=Z();var Ht=Object(zt.combineReducers)({headTitle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"\u9996\u9875",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return t.data;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return console.log(t.user),t.user;case C:var n=t.errorMsg;return Object(oe.a)(Object(oe.a)({},e),{},{errorMsg:n});case S:return{};default:return e}}}),Bt=Object(zt.createStore)(Ht,Object(qt.composeWithDevTools)(Object(zt.applyMiddleware)(Et.a)));o.a.render(Object(r.jsx)(s.a,{store:Bt,children:Object(r.jsx)(Lt,{})}),document.getElementById("root"))},584:function(e,t,n){},644:function(e,t,n){},645:function(e,t,n){},668:function(e,t,n){},903:function(e,t,n){}},[[1224,1,2]]]);
//# sourceMappingURL=main.37ffc84f.chunk.js.map